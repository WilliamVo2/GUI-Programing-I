<!DOCTYPE html>
<!--
  File: /~tvo2/461f2017/hw5/461f20175.html
  4610 Assignment: Creating an Interactive Dynamic Table
  William Vo, Umass Lowell Computer Science, william_vo@student.uml.edu
  Copyright (c) 2017 by William Vo. All rights reserved. May be freelly
      coppied or excerpted for educational purposes with credit to the author.
  Updated by Will on November 19, 2017 at 8:50 PM
-->
<html lang="en">
<!-- Name header here -->
    <head>
      <meta charset="utf-8">
      <title >Using the jQuery Validation Plugin with Dynamic Table</title>
      <link href="midterm.css" rel="stylesheet" >
      <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <script src="_js/jquery.min.js"></script>
      <script src="jquery_validate/jquery.validate.min.js"></script>
      <script>
        $(document).ready(function(){
          $('#dealdata').validate({
            rules: {
              price: {
                required: true,
                number: true,
                range: [0,5]
              },
              price1: {
                required: true,
                number: true,
                range: [0,100000]
              },
              price2: {
                required: true,
                number: true,
                range: [0,100000]
              },
              price3: {
                required: true,
                number: true,
                range: [0,100000]
              },
              price4: {
                required: true,
                number: true,
                range: [0,100000]
              },
              price5: {
                required: true,
                number: true,
                range: [0,100000]
              }, //end of price

              mpg1: {
                required: true,
                number: true,
                range: [0,50]
              },
              mpg2: {
                required: true,
                number: true,
                range: [0,50]
              },
              mpg3: {
                required: true,
                number: true,
                range: [0,50]
              },
              mpg4: {
                required: true,
                number: true,
                range: [0,50]
              } //end Fuel consumtion

            }, // end rules
            messages: {
              price: {
                required: "Enter value for pice of fule per galon i.e $2.99.",
                number: "This is not valid value. Enter number, please!",
                range: "Range in [0, 5]"
              },
              price1: {
                required: "Enter valid number.",
                number: "This is not valid value!",
                range: "Range in [0, 100000]"
              },
              price2: {
                required: "Enter valid number.",
                number: "This is not valid value!",
                range: "Range in [0, 100000]"
              },
              price3: {
                required: "Enter valid number.",
                number: "This is not valid value!",
                range: "Range in [0, 100000]"
              },
              price4: {
                required: "Enter valid number.",
                number: "This is not valid value!",
                range: "Range in [0, 100000]"
              },
              price5: {
                required: "Enter valid number.",
                number: "This is not valid value!",
                range: "Range in [0, 100000]"
              }, // Note: at the end of messages no comma.

              mpg1: {
                required: "Enter valid number.",
                number: "Not a valid value!",
                range: "Range in [0, 50]"
              },
              mpg2: {
                required: "Enter valid number.",
                number: "Not a valid value!",
                range: "Range in [0, 50]"
              },
              mpg3: {
                required: "Enter valid number.",
                number: "Not a valid value!",
                range: "Range in [0, 50]"
              },
              mpg4: {
                required: "Enter valid number.",
                number: "Not a valid value!",
                range: "Range in [0, 50]"
              } //end Fuel consumtion

            } // end messages

          }); // end validate
          $('[title]').tooltip();
        }); //end ready()
      </script>
    </head>
    <body>
        <header>
          <h1>Using the jQuery Validation with Dynamic Table</h1>
        </header>
        <img src="img_tree.png" alt="Tree" width="350" height="500">
      <!-- Creat the table, let input data be used which store in
      form name dealdata -->
        <form action="process.html" method="post" name="dealdata" id="dealdata">
          <h2>Enter Information:</h2>
            <div>
              <label for="price" class="label">Price Fuel:$</label>
              <input type="text" id="price" name ="price" size="10"
                title="Enter price of Fuel, .i.e $2.99" onchange="calculate();">
          <!--Assum the price of car was paydown 20% and
                 it will pay the rest in 03 years. -->
            </div>
              <br>
          <table class="stripeTable">
            <col class="col0">
	          <col class="col1">
	          <col class="col0">
	          <col class="col1">
	          <col class="col0">
            <col class="col1">
            <tr class="fst">
              <th >Price/Fuel<br>consumtion: </th>
              <th>$<input type="text" id="price1" name="price1" size="8"
                title="Enter price of car." onchange="calculate"></th>
              <th>$<input type="text" id="price2" name="price2" size="8"
                title="Enter price of car." onchange="calculate"></th>
              <th>$<input type="text" id="price3" name="price3" size="8"
                title="Enter price of car." onchange="calculate"></th>
              <th>$<input type="text" id="price4" name="price4" size="8"
                title="Enter price of car." onchange="calculate"></th>
              <th>$<input type="text" id="price5" name="price5" size="8"
                title="Enter price of car." onchange="calculate"></th>
            </tr>
            <tr class="snd">
              <td>Mpg1<input type="text" id="mpg1"
                    name="mpg1" title="Enter mile per gallon."
                    size="6" onchange="calculate"></td>
              <td>$/mo<input type="text" id="cel11a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel11b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel21a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel21b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel31a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel31b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel41a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel41b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel51a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel51b" size="4"
                    title="Do not enter value here"></td>

            </tr>
            <tr class="thr">
              <td>Mpg2<input type="text" id="mpg2" name="mpg2" size="6"
                    title="Enter mile per gallon." onchange="calculate"></td>
              <td>$/mo<input type="text" id="cel12a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel12b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel22a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel22b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel32a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel32b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel42a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel42b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel52a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel52b" size="4"
                    title="Do not enter value here"></td>
            </tr>
            <tr class="frd">
              <td>Mpg3<input type="text" id="mpg3" name="mpg3" size="6"
                    title="Enter mile per gallon." onchange="calculate"></td>
              <td>$/mo<input type="text" id="cel13a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel13b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel23a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel23b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel33a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel33b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel43a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel43b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel53a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel53b" size="4"
                    title="Do not enter value here"></td>
            </tr>
            <tr class="fif">
              <td>Mpg4<input type="text" id="mpg4" name="mpg4" size="6"
                    title="Enter mile per gallon." onchange="calculate"></td>
              <td>$/mo<input type="text" id="cel14a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel14b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel24a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel24b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel34a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel34b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel44a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel44b" size="4"
                    title="Do not enter value here"></td>
              <td>$/mo<input type="text" id="cel54a" size="4"
                    title="Do not enter value here"><br>
                    $/mi<input type="text" id="cel54b" size="4"
                    title="Do not enter value here"></td>
            </tr>

          </table>

          <br><br>
          <label>We can calculate here: </label>
          <input type="button"  value="Calculate" title="Click this botton!"
          onclick="calculate();">

        </form>
        <!-- this is Javascript program to make the form work-->
        <script>
            function calculate() {
             //Get information from the inputform to calculate
              var price = document.getElementById('price').value;
              var price1 = document.getElementById('price1').value ;
              var price2 = document.getElementById('price2').value ;
              var price3 = document.getElementById('price3').value ;
              var price4 = document.getElementById('price4').value ;
              var price5 = document.getElementById('price5').value ;
              var mpg1  = document.getElementById('mpg1').value ;
              var mpg2  = document.getElementById('mpg2').value ;
              var mpg3  = document.getElementById('mpg3').value ;
              var mpg4  = document.getElementById('mpg4').value ;





              //Calculate the payment. With 20% downpay and pay the rest in 03 yrs.
              var cel11a = cel12a = (price1 - (price1*20 / 100))/36;
              var cel13a = cel14a = (price1  - (price1* 20 / 100))/36;
              var cel21a = cel22a = cel23a = cel24a = (price2 - (price2* 20 / 100))/36;
              var cel31a = cel32a = cel33a = cel34a = (price3 - (price3* 20 / 100))/36 ;
              var cel41a = cel42a = cel43a = cel44a = (price4 - (price4* 20 / 100))/36;
              var cel51a = cel52a = cel53a = cel54a = (price5 - (price5* 20 / 100))/36;
              var cel11b = price / mpg1;
              var cel21b = cel31b = cel41b =cel51b =  price / mpg1;
              var cel12b = cel22b = cel32b = cel42b = cel52b =  price / mpg2;
              var cel13b = cel23b = cel33b = cel43b = cel53b = price / mpg3;
              var cel14b = cel24b = cel34b = cel44b = cel54b = price / mpg4;




              // check infinity number and fulfill payment of  month and driven
              if (!isNaN(cel11a, cel12a, cel13a, cel14a, cel21a, cel22a,
                 cel23a, cel24a, cel31a, cel32a, cel33a, cel34a,
                 cel41a, cel42a, cel43a, cel44a, cel51a, cel52a,
                 cel53a, cel54a, cel11b != Number.POSITIVE_INFINITY) &&
               (cel11a, cel12a, cel13a, cel14a, cel21a, cel22a,
                  cel23a, cel24a, cel31a, cel32a, cel33a, cel34a,
                   cel41a, cel42a, cel43a, cel44a, cel51a, cel52a,
                  cel53a, cel54a, cel11b != Number.NEGATIVE_INFINITY))
              {
                  document.getElementById('cel11a').value = round(cel11a);
                  document.getElementById('cel12a').value = round(cel12a);
                  document.getElementById('cel13a').value = round(cel13a);
                  document.getElementById('cel14a').value = round(cel14a);
                  document.getElementById('cel21a').value = round(cel21a);
                  document.getElementById('cel22a').value = round(cel22a);
                  document.getElementById('cel23a').value = round(cel23a);
                  document.getElementById('cel24a').value = round(cel24a);
                  document.getElementById('cel31a').value = round(cel31a);
                  document.getElementById('cel32a').value = round(cel32a);
                  document.getElementById('cel33a').value = round(cel33a);
                  document.getElementById('cel34a').value = round(cel34a);
                  document.getElementById('cel41a').value = round(cel41a);
                  document.getElementById('cel42a').value = round(cel42a);
                  document.getElementById('cel43a').value = round(cel43a);
                  document.getElementById('cel44a').value = round(cel44a);
                  document.getElementById('cel51a').value = round(cel51a);
                  document.getElementById('cel52a').value = round(cel52a);
                  document.getElementById('cel53a').value = round(cel53a);
                  document.getElementById('cel54a').value = round(cel54a);


                  document.getElementById('cel11b').value = round(cel11b);
                  document.getElementById('cel12b').value = round(cel12b);
                  document.getElementById('cel13b').value = round(cel13b);
                  document.getElementById('cel14b').value = round(cel14b);
                  document.getElementById('cel21b').value = round(cel21b);
                  document.getElementById('cel22b').value = round(cel22b);
                  document.getElementById('cel23b').value = round(cel23b);
                  document.getElementById('cel24b').value = round(cel24b);
                  document.getElementById('cel31b').value = round(cel31b);
                  document.getElementById('cel32b').value = round(cel32b);
                  document.getElementById('cel33b').value = round(cel33b);
                  document.getElementById('cel34b').value = round(cel34b);
                  document.getElementById('cel41b').value = round(cel41b);
                  document.getElementById('cel42b').value = round(cel42b);
                  document.getElementById('cel43b').value = round(cel43b);
                  document.getElementById('cel44b').value = round(cel44b);
                  document.getElementById('cel51b').value = round(cel51b);
                  document.getElementById('cel52b').value = round(cel52b);
                  document.getElementById('cel53b').value = round(cel53b);
                  document.getElementById('cel54b').value = round(cel54b);

              }
              else {
                  document.getElementById('cel11a').value = "n/a ";
                  document.getElementById('cel12a').value = " ";
                  document.getElementById('cel13a').value = " ";
                  document.getElementById('cel14a').value =  " ";
                  document.getElementById('cel21a').value = " ";
                  document.getElementById('cel22a').value = " ";
                  document.getElementById('cel23a').value = " ";
                  document.getElementById('cel24a').value = " ";
                  document.getElementById('cel31a').value = " ";
                  document.getElementById('cel32a').value = " ";
                  document.getElementById('cel33a').value = " ";
                  document.getElementById('cel34a').value = " ";
                  document.getElementById('cel41a').value = " ";
                  document.getElementById('cel42a').value = " ";
                  document.getElementById('cel43a').value = " ";
                  document.getElementById('cel44a').value = " ";
                  document.getElementById('cel51a').value = " ";
                  document.getElementById('cel52a').value = " ";
                  document.getElementById('cel53a').value = " ";
                  document.getElementById('cel54a').value = " ";

                  document.getElementById('cel11b').value = "n/A";
                  document.getElementById('cel12b').value = " ";
                  document.getElementById('cel13b').value = " ";
                  document.getElementById('cel14b').value =  " ";
                  document.getElementById('cel21b').value = " ";
                  document.getElementById('cel22b').value = " ";
                  document.getElementById('cel23b').value = " ";
                  document.getElementById('cel24b').value = " ";
                  document.getElementById('cel31b').value = " ";
                  document.getElementById('cel32b').value = " ";
                  document.getElementById('cel33b').value = " ";
                  document.getElementById('cel34b').value = " ";
                  document.getElementById('cel41b').value = " ";
                  document.getElementById('cel42b').value = " ";
                  document.getElementById('cel43b').value = " ";
                  document.getElementById('cel44b').value = " ";
                  document.getElementById('cel51b').value = " ";
                  document.getElementById('cel52b').value = " ";
                  document.getElementById('cel53b').value = " ";
                  document.getElementById('cel54b').value = " ";
                }

            }
            // round to 02 decimal

            function round(x) {
              return Math.round(x*100)/100;
            }

        </script>
         <!-- footer and coyright -->
        <footer>
          <p>Copyright 2017, William<p>
        </footer>
        <!-- Imprese Me: Fistly, my table let user can see the implement userguider by
        itself. The data cells was placehold information and dispear when
        user enter valua in.
        Secondly, in CSS style was clorful from diference columns to make
        the result of $/mo and $/mi looking clearly.
      -->
    </body>
</html>
